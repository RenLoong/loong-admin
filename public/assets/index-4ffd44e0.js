import{f as U,ac as j,W as O,d as t,e as _,g as F,F as S,u as n,h as a,w as e,x as o,j as M,v as g,A as l,t as u,K as pe,au as Je,av as je,r as D,V as K,B as Y,aw as Ye,k as be,G as L,N as we,af as Se,ad as Ee,ax as Ce,ay as $e,L as Me,az as Ne,aA as Ie,ai as Ae,aB as Te,aC as Fe,aD as Oe,n as Xe,m as ue,aE as Be,aF as Ve,aG as et,aH as tt,ae as ot,aI as nt,aJ as st}from"./vendor-6d82558b.js";import{_ as Re}from"./copyright-44884c6e.js";import{u as me,_ as fe,o as at,a as lt,b as X,c as E,d as he,e as qe,f as Le,r as de,g as De}from"./index-f3cf2527.js";const ze=U({__name:"item-menu-item",props:{menus:{},level:{}},setup(d){const y=d,i=j(()=>y.menus?y.menus.sort((m,k)=>m.meta.sort-k.meta.sort):[]),{hasSubMenu:h}=me();return(m,k)=>{const v=pe,b=O("item-menu-item",!0),C=Je,w=fe,x=je;return t(!0),_(S,null,F(n(i),(r,N)=>(t(),_(S,{key:N},[n(h)(r)?(t(),a(w,{key:0,name:r.meta.api},{default:e(()=>[o(C,{index:r.path},{title:e(()=>[r.meta.icon?(t(),a(v,{key:0},{default:e(()=>[(t(),a(M(r.meta.icon)))]),_:2},1024)):g("",!0),l("span",null,u(r.meta.title),1)]),default:e(()=>[o(b,{menus:r.children,level:m.level+1},null,8,["menus","level"])]),_:2},1032,["index"])]),_:2},1032,["name"])):r.meta.show?(t(),a(w,{key:1,name:r.meta.api},{default:e(()=>[o(x,{index:r.path},{title:e(()=>[l("span",null,u(r.meta.title),1)]),default:e(()=>[r.meta.icon?(t(),a(v,{key:0},{default:e(()=>[(t(),a(M(r.meta.icon)))]),_:2},1024)):g("",!0)]),_:2},1032,["index"])]),_:2},1032,["name"])):g("",!0)],64))),128)}}});const ve="THEME",ge=lt(),z=D(ge.get(ve)||"OS"),ie=matchMedia("(prefers-color-scheme: dark)"),_e=()=>{ie.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};K(()=>{ge.set(ve,z.value),z.value==="OS"?(ie.addEventListener("change",_e),_e()):(document.documentElement.dataset.theme=z.value,ie.removeEventListener("change",_e))});at(ge.getKey(ve),d=>{if(!d)z.value="OS";else if(d.newValue!==null){const y=JSON.parse(d.newValue).data;z.value=y}});function ye(){return{theme:z}}const ct=["src"],rt=["src"],_t={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.33 77.38",class:"logo-svg"},ut={id:"svg26"},dt=Ye('<g id="g24" data-v-7154d3b4><path id="path14" class="logo-svg-cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z" data-v-7154d3b4></path><path id="path16" class="logo-svg-cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z" data-v-7154d3b4></path><path id="path18" class="logo-svg-cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z" data-v-7154d3b4></path><path id="path20" class="logo-svg-cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z" data-v-7154d3b4></path><path id="path22" class="logo-svg-cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z" data-v-7154d3b4></path></g>',1),it=U({__name:"item-logo",props:{theme:{}},setup(d){const y=d,i=X(),{WEBCONFIG:h}=E(i),{theme:m}=ye(),k=j(()=>y.theme==="transparent"||m.value==="dark");return(v,b)=>n(h).logo_use==="image"&&n(k)?(t(),_("img",{key:0,src:n(h).web_logo_light,class:"logo-svg"},null,8,ct)):n(h).logo_use==="image"?(t(),_("img",{key:1,src:n(h).web_logo_dark,class:"logo-svg"},null,8,rt)):(t(),_("svg",_t,[l("g",null,[l("g",ut,[dt,l("text",{class:Y(["logo-svg-cls-2 logo-svg-text",["theme--"+y.theme]]),transform:"translate(48.28 67.81)"},u(n(h).web_name),3)])])]))}});const Ue=he(it,[["__scopeId","data-v-7154d3b4"]]),We=d=>(Be("data-v-b4335c6c"),d=d(),Ve(),d),pt={class:"flex flex-center px-6"},mt=We(()=>l("div",{class:"flex-1"},null,-1)),ft=["onClick"],ht={key:1},vt=["onClick"],gt={key:1},yt={class:"pointer px-3 flex flex-center"},xt={class:"pointer px-3 flex flex-center"},kt={class:"ml-1"},bt={class:"nickname mb-1"},wt={class:"flex-1 p-4 flex flex-y-center font-weight-600"},St=We(()=>l("div",{class:"flex-1 text-center text-danger font-weight-600 p-4"}," 退出登录",-1)),Et=U({__name:"control",setup(d){const y=qe(),{USERINFO:i}=E(y),h=X(),{WEBCONFIG:m}=E(h),k=me(),{ROUTERLIST:v}=E(k),b=Le(),{STATE:C}=E(b),{theme:w}=ye(),x=D({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),r=D("");K(()=>{x.value=de.currentRoute.value,x.value.query.routerName&&(r.value=x.value.query.routerName)});const N=A=>{const $={model:A.model,props:A.props.props,path:A.props.path,query:{},data:{}};De($).then(()=>{}).catch(()=>{})};return(A,$)=>{const Q=O("Fold"),B=pe,W=O("Expand"),p=we,f=Ue,ee=Se,T=Ee,G=Ce,te=fe,oe=$e,ne=Me,Z=Ne,se=ze,ae=Ie,H=Ae,P=Re,le=Te,ce=O("router-view"),re=Fe,J=Oe;return t(),a(J,{class:"layout-container"},{default:e(()=>[o(Z,null,{default:e(()=>[o(p,{effect:"dark",content:"展开/收起侧边栏",placement:"bottom"},{default:e(()=>[l("div",{onClick:$[0]||($[0]=c=>n(b).toggle("AsideState")),class:"pointer header-item flex flex-center text-primary-light-3"},[n(C).AsideState?(t(),a(B,{key:0},{default:e(()=>[o(Q)]),_:1})):(t(),a(B,{key:1},{default:e(()=>[o(W)]),_:1}))])]),_:1}),l("div",pt,[o(f,{width:"60px",height:"60px"})]),mt,(t(!0),_(S,null,F(n(m).toolbar,(c,V)=>(t(),_(S,null,[c.tips?(t(),a(p,{key:0,effect:"dark",content:c.tips,placement:"bottom"},{default:e(()=>[l("div",{class:"pointer header-item flex flex-center",onClick:R=>N(c)},[c.props.icon?(t(),a(B,{key:0},{default:e(()=>[(t(),a(M(c.props.icon)))]),_:2},1024)):g("",!0),c.props.label?(t(),_("span",ht,u(c.props.label),1)):g("",!0)],8,ft)]),_:2},1032,["content"])):(t(),_("div",{key:1,class:"pointer header-item flex flex-center",onClick:R=>N(c)},[c.props.icon?(t(),a(B,{key:0},{default:e(()=>[(t(),a(M(c.props.icon)))]),_:2},1024)):g("",!0),c.props.label?(t(),_("span",gt,u(c.props.label),1)):g("",!0),c.props.field&&n(i)?(t(),a(M(c.props.field.component.name),Xe(ue({key:2},c.props.field.component.props)),{default:e(()=>[L(u(n(i)[c.props.field.name]),1)]),_:2},1040)):g("",!0)],8,vt))],64))),256)),l("div",yt,[o(ee,{modelValue:n(w),"onUpdate:modelValue":$[1]||($[1]=c=>be(w)?w.value=c:null),style:{"--el-switch-on-color":"#2c2c2c"},"active-action-icon":"Moon","inactive-action-icon":"Sunny","active-value":"dark","inactive-value":"OS"},null,8,["modelValue"])]),o(ne,{"popper-class":"userinfo-menu",onCommand:N},{dropdown:e(()=>[o(oe,null,{default:e(()=>[(t(!0),_(S,null,F(n(m).user_dropdown_menu,c=>(t(),a(te,{name:c.props.path},{default:e(()=>[o(G,ue(c.props,{command:c}),{default:e(()=>[l("div",wt,u(c.props.label),1)]),_:2},1040,["command"])]),_:2},1032,["name"]))),256)),o(G,{divided:"",command:{model:"OutLogin",props:{confirmButtonClass:"el-button--danger"}}},{default:e(()=>[St]),_:1})]),_:1})]),default:e(()=>{var c,V;return[l("div",xt,[o(T,{size:30,src:(c=n(i))==null?void 0:c.headimg},{default:e(()=>{var R;return[L(u((R=n(i))==null?void 0:R.nickname),1)]}),_:1},8,["src"]),l("div",kt,[l("div",bt,u((V=n(i))==null?void 0:V.nickname),1)])])]}),_:1})]),_:1}),o(J,{class:"overflow-hidden"},{default:e(()=>[o(le,{class:Y(["layout-aside",{close:!n(C).AsideState||n(C).NotMenusAsideState}])},{default:e(()=>[o(H,{class:"flex-1"},{default:e(()=>[o(ae,{"default-active":n(x).path,router:"",class:"layouts-menus"},{default:e(()=>[o(se,{menus:n(v),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1}),o(P)]),_:1},8,["class"]),o(H,{class:"layouts-main-scrollbar"},{default:e(()=>[o(re,null,{default:e(()=>[(t(),a(ce,{key:n(x).path}))]),_:1})]),_:1})]),_:1})]),_:1})}}});const ke=he(Et,[["__scopeId","data-v-b4335c6c"]]),Ge=d=>(Be("data-v-6da78251"),d=d(),Ve(),d),Ct={class:"layout-tabs"},$t=["onClick"],Mt={class:"title"},Nt={class:"layout-menus"},It={class:"layout-menus-header"},At={class:"title"},Tt=Ge(()=>l("div",{class:"flex-1"},null,-1)),Ft=["onClick"],Ot={key:1},Bt=["onClick"],Vt={key:1},Rt={class:"pointer px-3 flex flex-center"},qt={class:"pointer px-3 flex flex-center"},Lt={class:"ml-1"},Dt={class:"nickname mb-1"},zt={class:"flex-1 p-4 flex flex-y-center font-weight-600"},Ut=Ge(()=>l("div",{class:"flex-1 text-center text-danger font-weight-600 p-4"}," 退出登录",-1)),Wt={class:"bg-white rounded-4 p-4 shadow"},Gt=U({__name:"admin",setup(d){const y=qe(),{USERINFO:i}=E(y),h=X(),{WEBCONFIG:m}=E(h),k=me(),{ROUTERLIST:v}=E(k),b=Le(),{STATE:C}=E(b),{theme:w}=ye(),x=D(0),r=D({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),N=D("");K(()=>{r.value=de.currentRoute.value,r.value.query.routerName&&(N.value=r.value.query.routerName);const p=r.value.matched.map(f=>{if(f.meta&&f.meta.routerKey!==void 0)return f.meta.routerKey}).filter(f=>f!==void 0);p[0]!==void 0&&(x.value=p[0])});const A=j(()=>v.value&&v.value.length>0?v.value[x.value]:{}),$=j(()=>v.value&&v.value.length>0?A.value.children:[]);K(()=>{$.value.length>0&&k.hasSubMenu(v.value[x.value])?b.setState("NotMenusAsideState",!1):b.setState("NotMenusAsideState",!0)});const Q=p=>p.children&&p.children.length>0&&k.hasSubMenu(p)?Q(p.children[0]):p,B=p=>{const f=Q(p);de.push({path:f.path})},W=p=>{const f={model:p.model,props:p.props.props,path:p.props.path,query:{},data:{}};De(f).then(()=>{}).catch(()=>{})};return(p,f)=>{const ee=Ue,T=pe,G=fe,te=et,oe=ze,ne=Ie,Z=Ae,se=Te,ae=O("Fold"),H=O("Expand"),P=we,le=nt,ce=tt,re=Se,J=Ee,c=ot,V=Ce,R=$e,Ke=Me,Qe=Ne,Ze=O("router-view"),He=Re,Pe=Fe,xe=Oe;return t(),a(xe,{class:"layout-container"},{default:e(()=>[o(se,{class:Y(["layout-aside",{close:!n(C).AsideState||n(C).NotMenusAsideState}])},{default:e(()=>[l("div",Ct,[o(ee,{theme:"dark",width:"60px",height:"60px"}),(t(!0),_(S,null,F(n(v),(s,q)=>(t(),a(G,{key:q,name:s.meta.api},{default:e(()=>[s.meta.show?(t(),_("div",{key:0,class:Y(["layout-tab",{active:q==n(x)}]),onClick:I=>B(s)},[s.meta.icon?(t(),a(T,{key:0,size:"20"},{default:e(()=>[(t(),a(M(s.meta.icon)))]),_:2},1024)):g("",!0),l("div",Mt,u(s.meta.title),1)],10,$t)):g("",!0)]),_:2},1032,["name"]))),128))]),l("div",Nt,[l("div",It,[l("div",At,u(n(m).web_name),1)]),o(Z,null,{default:e(()=>[o(te,null,{default:e(()=>[L(u(n(A).meta.title),1)]),_:1}),o(ne,{"default-active":n(r).path,router:"",class:"layouts-menus"},{default:e(()=>[o(oe,{menus:n($),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1})])]),_:1},8,["class"]),o(xe,null,{default:e(()=>[o(Qe,null,{default:e(()=>[o(P,{effect:"dark",content:"展开/收起侧边栏",placement:"bottom"},{default:e(()=>[l("div",{onClick:f[0]||(f[0]=s=>n(b).toggle("AsideState")),class:"pointer header-item flex flex-center text-primary-light-3"},[n(C).AsideState?(t(),a(T,{key:0},{default:e(()=>[o(ae)]),_:1})):(t(),a(T,{key:1},{default:e(()=>[o(H)]),_:1}))])]),_:1}),o(ce,{separator:"/",style:{"--el-text-color-regular":"var(--el-color-info)"}},{default:e(()=>[(t(!0),_(S,null,F(n(r).matched,s=>(t(),a(le,{to:s.name===n(N)?s.path:""},{default:e(()=>[L(u(s.meta.title),1)]),_:2},1032,["to"]))),256))]),_:1}),Tt,(t(!0),_(S,null,F(n(m).toolbar,(s,q)=>(t(),_(S,null,[s.tips?(t(),a(P,{key:0,effect:"dark",content:s.tips,placement:"bottom"},{default:e(()=>[l("div",{class:"pointer header-item flex flex-center",onClick:I=>W(s)},[s.props.icon?(t(),a(T,{key:0},{default:e(()=>[(t(),a(M(s.props.icon)))]),_:2},1024)):g("",!0),s.props.label?(t(),_("span",Ot,u(s.props.label),1)):g("",!0)],8,Ft)]),_:2},1032,["content"])):(t(),_("div",{key:1,class:"pointer header-item flex flex-center",onClick:I=>W(s)},[s.props.icon?(t(),a(T,{key:0},{default:e(()=>[(t(),a(M(s.props.icon)))]),_:2},1024)):g("",!0),s.props.label?(t(),_("span",Vt,u(s.props.label),1)):g("",!0)],8,Bt))],64))),256)),l("div",Rt,[o(re,{modelValue:n(w),"onUpdate:modelValue":f[1]||(f[1]=s=>be(w)?w.value=s:null),style:{"--el-switch-on-color":"#2c2c2c"},"active-action-icon":"Moon","inactive-action-icon":"Sunny","active-value":"dark","inactive-value":"OS"},null,8,["modelValue"])]),o(Ke,{"popper-class":"userinfo-menu",onCommand:W},{dropdown:e(()=>[o(R,null,{default:e(()=>[(t(!0),_(S,null,F(n(m).user_dropdown_menu,s=>(t(),a(G,{name:s.props.path},{default:e(()=>[o(V,ue(s.props,{command:s}),{default:e(()=>[l("div",zt,u(s.props.label),1)]),_:2},1040,["command"])]),_:2},1032,["name"]))),256)),o(V,{divided:"",command:{model:"OutLogin",props:{confirmButtonClass:"el-button--danger"}}},{default:e(()=>[Ut]),_:1})]),_:1})]),default:e(()=>{var s,q;return[l("div",qt,[o(J,{size:30,src:(s=n(i))==null?void 0:s.headimg},{default:e(()=>{var I;return[L(u((I=n(i))==null?void 0:I.nickname),1)]}),_:1},8,["src"]),l("div",Lt,[l("div",Dt,u((q=n(i))==null?void 0:q.nickname),1),o(c,{size:"small",type:"danger"},{default:e(()=>{var I;return[L(u((I=n(i))==null?void 0:I.role_name),1)]}),_:1})])])]}),_:1})]),_:1}),o(Z,{class:"layouts-main-scrollbar"},{default:e(()=>[o(Pe,null,{default:e(()=>[l("div",Wt,[(t(),a(Ze,{key:n(r).path}))]),o(He,{center:""})]),_:1})]),_:1})]),_:1})]),_:1})}}});const Kt=he(Gt,[["__scopeId","data-v-6da78251"]]),Qt=U({name:"/index"}),Jt=U({...Qt,setup(d){const y=X(),{WEBCONFIG:i}=E(y),h=st(ke),m=new Map;return m.set("control",ke),m.set("admin",Kt),K(()=>{i.value.layout&&m.has(i.value.layout)&&(h.value=m.get(i.value.layout))}),(k,v)=>(t(),a(M(n(h))))}});export{Jt as default};
