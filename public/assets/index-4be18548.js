import{_ as K,u as ne,a as ae,o as Me,b as Ne,c as Q,d as C,e as Ie,f as Te,r as te,g as $e}from"./index-a553babf.js";import{e as u,d as e,f as B,a9 as D,W as F,g as $,F as k,u as n,h as l,w as t,x as a,j as M,v as y,A as c,t as p,K as se,ap as Be,aq as Ae,r as V,V as L,B as W,ar as Oe,G as O,k as Fe,as as Ve,at as De,ag as Le,au as qe,N as Re,av as We,ad as ze,ab as Ke,ac as Qe,aw as Ze,ax as Ge,L as Ue,ay as He,az as Pe,aA as je,m as Je,aB as Ye,aC as Xe,aD as et,aE as tt}from"./vendor-8484c245.js";import{_ as ot}from"./copyright-281a328c.js";const nt={};function at(_,m){return e(),u("div",null,"control")}const oe=K(nt,[["render",at]]),st=B({__name:"item-menu-item",props:{menus:{},level:{}},setup(_){const m=_,h=D(()=>m.menus?m.menus.sort((d,g)=>d.meta.sort-g.meta.sort):[]),{hasSubMenu:v}=ne();return(d,g)=>{const f=se,x=F("item-menu-item",!0),I=Be,w=ae,S=Ae;return e(!0),u(k,null,$(n(h),(s,A)=>(e(),u(k,{key:A},[n(v)(s)?(e(),l(w,{key:0,name:s.meta.api},{default:t(()=>[a(I,{index:s.path},{title:t(()=>[s.meta.icon?(e(),l(f,{key:0},{default:t(()=>[(e(),l(M(s.meta.icon)))]),_:2},1024)):y("",!0),c("span",null,p(s.meta.title),1)]),default:t(()=>[a(x,{menus:s.children,level:d.level+1},null,8,["menus","level"])]),_:2},1032,["index"])]),_:2},1032,["name"])):s.meta.show?(e(),l(w,{key:1,name:s.meta.api},{default:t(()=>[a(S,{index:s.path},{title:t(()=>[c("span",null,p(s.meta.title),1)]),default:t(()=>[s.meta.icon?(e(),l(f,{key:0},{default:t(()=>[(e(),l(M(s.meta.icon)))]),_:2},1024)):y("",!0)]),_:2},1032,["index"])]),_:2},1032,["name"])):y("",!0)],64))),128)}}});const Z="THEME",G=Ne(),N=V(G.get(Z)||"OS"),z=matchMedia("(prefers-color-scheme: dark)"),R=()=>{z.matches?document.documentElement.dataset.theme="dark":document.documentElement.dataset.theme="light"};L(()=>{G.set(Z,N.value),N.value==="OS"?(z.addEventListener("change",R),R()):(document.documentElement.dataset.theme=N.value,z.removeEventListener("change",R))});Me(G.getKey(Z),_=>{if(!_)N.value="OS";else if(_.newValue!==null){const m=JSON.parse(_.newValue).data;N.value=m}});function le(){return{theme:N}}const lt=["src"],ct=["src"],rt={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.33 77.38",class:"logo-svg"},ut={id:"svg26"},_t=Oe('<g id="g24" data-v-7154d3b4><path id="path14" class="logo-svg-cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z" data-v-7154d3b4></path><path id="path16" class="logo-svg-cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z" data-v-7154d3b4></path><path id="path18" class="logo-svg-cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z" data-v-7154d3b4></path><path id="path20" class="logo-svg-cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z" data-v-7154d3b4></path><path id="path22" class="logo-svg-cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z" data-v-7154d3b4></path></g>',1),dt=B({__name:"item-logo",props:{theme:{}},setup(_){const m=_,h=Q(),{WEBCONFIG:v}=C(h),{theme:d}=le(),g=D(()=>m.theme==="transparent"||d.value==="dark");return(f,x)=>n(v).logo_use==="image"&&n(g)?(e(),u("img",{key:0,src:n(v).web_logo_light,class:"logo-svg"},null,8,lt)):n(v).logo_use==="image"?(e(),u("img",{key:1,src:n(v).web_logo_dark,class:"logo-svg"},null,8,ct)):(e(),u("svg",rt,[c("g",null,[c("g",ut,[_t,c("text",{class:W(["logo-svg-cls-2 logo-svg-text",["theme--"+m.theme]]),transform:"translate(48.28 67.81)"},p(n(v).web_name),3)])])]))}});const it=K(dt,[["__scopeId","data-v-7154d3b4"]]),ce=_=>(Ye("data-v-6da78251"),_=_(),Xe(),_),pt={class:"layout-tabs"},mt=["onClick"],ht={class:"title"},vt={class:"layout-menus"},ft={class:"layout-menus-header"},gt={class:"title"},yt=ce(()=>c("div",{class:"flex-1"},null,-1)),bt=["onClick"],xt={key:1},kt=["onClick"],wt={key:1},St={class:"pointer px-3 flex flex-center"},Et={class:"pointer px-3 flex flex-center"},Ct={class:"ml-1"},Mt={class:"nickname mb-1"},Nt={class:"flex-1 p-4 flex flex-y-center font-weight-600"},It=ce(()=>c("div",{class:"flex-1 text-center text-danger font-weight-600 p-4"}," 退出登录",-1)),Tt={class:"bg-white rounded-4 p-4 shadow"},$t=B({__name:"admin",setup(_){const m=Ie(),{USERINFO:h}=C(m),v=Q(),{WEBCONFIG:d}=C(v),g=ne(),{ROUTERLIST:f}=C(g),x=Te(),{STATE:I}=C(x),{theme:w}=le(),S=V(0),s=V({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),A=V("");L(()=>{s.value=te.currentRoute.value,s.value.query.routerName&&(A.value=s.value.query.routerName);const r=s.value.matched.map(i=>{if(i.meta&&i.meta.routerKey!==void 0)return i.meta.routerKey}).filter(i=>i!==void 0);r[0]!==void 0&&(S.value=r[0])});const U=D(()=>f.value&&f.value.length>0?f.value[S.value]:{}),H=D(()=>f.value&&f.value.length>0?U.value.children:[]);L(()=>{H.value.length>0&&g.hasSubMenu(f.value[S.value])?x.setState("NotMenusAsideState",!1):x.setState("NotMenusAsideState",!0)});const P=r=>r.children&&r.children.length>0&&g.hasSubMenu(r)?P(r.children[0]):r,re=r=>{const i=P(r);te.push({path:i.path})},q=r=>{const i={model:r.model,props:r.props.props,path:r.props.path,query:{},data:{}};$e(i).then(()=>{}).catch(()=>{})};return(r,i)=>{const ue=it,T=se,j=ae,_e=Ve,de=st,ie=De,J=Le,pe=qe,me=F("Fold"),he=F("Expand"),Y=Re,ve=et,fe=We,ge=ze,ye=Ke,be=Qe,X=Ze,xe=Ge,ke=Ue,we=He,Se=F("router-view"),Ee=ot,Ce=Pe,ee=je;return e(),l(ee,{class:"layout-container"},{default:t(()=>[a(pe,{class:W(["layout-aside",{close:!n(I).AsideState||n(I).NotMenusAsideState}])},{default:t(()=>[c("div",pt,[a(ue,{theme:"dark",width:"60px",height:"60px"}),(e(!0),u(k,null,$(n(f),(o,E)=>(e(),l(j,{key:E,name:o.meta.api},{default:t(()=>[o.meta.show?(e(),u("div",{key:0,class:W(["layout-tab",{active:E==n(S)}]),onClick:b=>re(o)},[o.meta.icon?(e(),l(T,{key:0,size:"20"},{default:t(()=>[(e(),l(M(o.meta.icon)))]),_:2},1024)):y("",!0),c("div",ht,p(o.meta.title),1)],10,mt)):y("",!0)]),_:2},1032,["name"]))),128))]),c("div",vt,[c("div",ft,[c("div",gt,p(n(d).web_name),1)]),a(J,null,{default:t(()=>[a(_e,null,{default:t(()=>[O(p(n(U).meta.title),1)]),_:1}),a(ie,{"default-active":n(s).path,router:"",class:"layouts-menus"},{default:t(()=>[a(de,{menus:n(H),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1})])]),_:1},8,["class"]),a(ee,null,{default:t(()=>[a(we,null,{default:t(()=>[a(Y,{effect:"dark",content:"展开/收起侧边栏",placement:"bottom"},{default:t(()=>[c("div",{onClick:i[0]||(i[0]=o=>n(x).toggle("AsideState")),class:"pointer header-item flex flex-center text-primary-light-3"},[n(I).AsideState?(e(),l(T,{key:0},{default:t(()=>[a(me)]),_:1})):(e(),l(T,{key:1},{default:t(()=>[a(he)]),_:1}))])]),_:1}),a(fe,{separator:"/",style:{"--el-text-color-regular":"var(--el-color-info)"}},{default:t(()=>[(e(!0),u(k,null,$(n(s).matched,o=>(e(),l(ve,{to:o.name===n(A)?o.path:""},{default:t(()=>[O(p(o.meta.title),1)]),_:2},1032,["to"]))),256))]),_:1}),yt,(e(!0),u(k,null,$(n(d).toolbar,(o,E)=>(e(),u(k,null,[o.tips?(e(),l(Y,{key:0,effect:"dark",content:o.tips,placement:"bottom"},{default:t(()=>[c("div",{class:"pointer header-item flex flex-center",onClick:b=>q(o)},[o.props.icon?(e(),l(T,{key:0},{default:t(()=>[(e(),l(M(o.props.icon)))]),_:2},1024)):y("",!0),o.props.label?(e(),u("span",xt,p(o.props.label),1)):y("",!0)],8,bt)]),_:2},1032,["content"])):(e(),u("div",{key:1,class:"pointer header-item flex flex-center",onClick:b=>q(o)},[o.props.icon?(e(),l(T,{key:0},{default:t(()=>[(e(),l(M(o.props.icon)))]),_:2},1024)):y("",!0),o.props.label?(e(),u("span",wt,p(o.props.label),1)):y("",!0)],8,kt))],64))),256)),c("div",St,[a(ge,{modelValue:n(w),"onUpdate:modelValue":i[1]||(i[1]=o=>Fe(w)?w.value=o:null),style:{"--el-switch-on-color":"#2c2c2c"},"active-action-icon":"Moon","inactive-action-icon":"Sunny","active-value":"dark","inactive-value":"OS"},null,8,["modelValue"])]),a(ke,{"popper-class":"userinfo-menu",onCommand:q},{dropdown:t(()=>[a(xe,null,{default:t(()=>[(e(!0),u(k,null,$(n(d).user_dropdown_menu,o=>(e(),l(j,{name:o.props.path},{default:t(()=>[a(X,Je(o.props,{command:o}),{default:t(()=>[c("div",Nt,p(o.props.label),1)]),_:2},1040,["command"])]),_:2},1032,["name"]))),256)),a(X,{divided:"",command:{model:"OutLogin",props:{confirmButtonClass:"el-button--danger"}}},{default:t(()=>[It]),_:1})]),_:1})]),default:t(()=>{var o,E;return[c("div",Et,[a(ye,{size:30,src:(o=n(h))==null?void 0:o.headimg},{default:t(()=>{var b;return[O(p((b=n(h))==null?void 0:b.nickname),1)]}),_:1},8,["src"]),c("div",Ct,[c("div",Mt,p((E=n(h))==null?void 0:E.nickname),1),a(be,{size:"small",type:"danger"},{default:t(()=>{var b;return[O(p((b=n(h))==null?void 0:b.role_name),1)]}),_:1})])])]}),_:1})]),_:1}),a(J,{class:"layouts-main-scrollbar"},{default:t(()=>[a(Ce,null,{default:t(()=>[c("div",Tt,[(e(),l(Se,{key:n(s).path}))]),a(Ee,{center:""})]),_:1})]),_:1})]),_:1})]),_:1})}}});const Bt=K($t,[["__scopeId","data-v-6da78251"]]),At=B({name:"/index"}),Dt=B({...At,setup(_){const m=Q(),{WEBCONFIG:h}=C(m),v=tt(oe),d=new Map;return d.set("control",oe),d.set("admin",Bt),L(()=>{h.value.layout&&d.has(h.value.layout)&&(v.value=d.get(h.value.layout))}),(g,f)=>(e(),l(M(n(v))))}});export{Dt as default};
