import{e as A,f as W,T as G,g as w,h as o,m as L,F as q,p as r,G as M,v as t,q as e,l as n,j as s,U as ae,I as V,t as v,J as U,aE as Se,V as Ee,i as P,aF as Ce,A as Te,n as oe,k as z,z as $e,b5 as Me,B as Ae,ac as Ne,a1 as Ie,ax as Re,ag as Fe,aw as Be,s as qe,b6 as De,b7 as Oe,ab as Ue,a3 as Le,r as I,C as Z,o as de,b8 as ie,b9 as pe,as as me,aD as fe,aI as he,aQ as Pe,ba as Ve,bb as ze,a6 as Ge}from"./vendor-CnqLXyZa.js";import{_ as ve}from"./layouts-copyright-DkQ4MF71.js";import{u as se,_ as le,a as K,b as C,c as ge,d as j,e as Qe,f as ce,g as We,t as Ze,h as Ke,$ as ye,R as xe,r as ne}from"./index-Dtt2ccXS.js";const be=A({__name:"layouts-menu-item",props:{menus:{},level:{}},setup(R){const d=R,y=W(()=>d.menus?d.menus.sort((u,c)=>u.meta.sort-c.meta.sort):[]),{hasSubMenu:i}=se();return(u,c)=>{const g=ae,f=G("layouts-menu-item",!0),_=Se,k=le,x=Ee,p=Ce;return o(!0),w(q,null,L(t(y),(a,N)=>(o(),w(q,{key:N},[t(i)(a)?(o(),r(k,{key:0,name:a.meta.api},{default:e(()=>{var h;return[n(_,U({index:a.path},{ref_for:!0},(h=a.meta)==null?void 0:h.props),{title:e(()=>[a.meta.icon?(o(),r(g,{key:0},{default:e(()=>[(o(),r(V(a.meta.icon)))]),_:2},1024)):M("",!0),s("span",null,v(a.meta.title),1)]),default:e(()=>[n(f,{menus:a.children,level:u.level+1},null,8,["menus","level"])]),_:2},1040,["index"])]}),_:2},1032,["name"])):a.meta.show?(o(),r(k,{key:1,name:a.meta.api},{default:e(()=>{var h;return[n(p,U({index:a.path,route:{path:a.path,query:a.meta.query,params:a.meta.params}},{ref_for:!0},(h=a.meta)==null?void 0:h.props),{title:e(()=>{var S;return[n(x,U({ref_for:!0},(S=a.meta)==null?void 0:S.titleProps),{default:e(()=>[P(v(a.meta.title),1)]),_:2},1040)]}),default:e(()=>{var S;return[a.meta.icon?(o(),r(g,U({key:0,ref_for:!0},(S=a.meta)==null?void 0:S.iconProps),{default:e(()=>[(o(),r(V(a.meta.icon)))]),_:2},1040)):M("",!0)]}),_:2},1040,["index","route"])]}),_:2},1032,["name"])):M("",!0)],64))),128)}}}),je=["src"],He=["src"],Je={id:"svg26"},Xe=A({__name:"layouts-logo",props:{theme:{},width:{},height:{}},setup(R){const d=R,y=K(),{WEBCONFIG:i}=C(y),{theme:u}=ge(),c=W(()=>d.theme==="transparent"||u.value==="dark");return(g,f)=>{const _=Te;return o(),r(_,{href:t(i).web_url,target:"_blank",underline:"never"},{default:e(()=>[t(i).logo_use==="image"&&t(c)?(o(),w("img",{key:0,src:t(i).web_logo_light,class:"logo-svg",style:oe({width:d.width,height:d.height})},null,12,je)):t(i).logo_use==="image"?(o(),w("img",{key:1,src:t(i).web_logo_dark,class:"logo-svg",style:oe({width:d.width,height:d.height})},null,12,He)):(o(),w("svg",{key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.33 77.38",class:"logo-svg",style:oe({width:d.width,height:d.height})},[s("g",null,[s("g",Je,[f[0]||(f[0]=s("g",{id:"g24"},[s("path",{id:"path14",class:"logo-svg-cls-1",d:"M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z"}),s("path",{id:"path16",class:"logo-svg-cls-1",d:"M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z"}),s("path",{id:"path18",class:"logo-svg-cls-1",d:"M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z"}),s("path",{id:"path20",class:"logo-svg-cls-1",d:"M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z"}),s("path",{id:"path22",class:"logo-svg-cls-1",d:"M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z"})],-1)),s("text",{class:z(["logo-svg-cls-2 logo-svg-text",["theme--"+d.theme]]),transform:"translate(48.28 67.81)"},v(t(i).web_name),3)])])],4))]),_:1},8,["href"])}}}),we=j(Xe,[["__scopeId","data-v-9dd8f289"]]),Ye={class:"flex flex-center px-6"},et=["onClick"],tt={key:1},ot={class:"pointer px-3 flex flex-center"},nt={class:"pointer px-3 flex flex-center"},at={class:"flex flex-column languare-list"},st=["onClick"],lt={class:"pointer px-3 flex flex-center"},ct={class:"ml-1"},rt={class:"nickname mb-1"},ut={class:"flex-1 p-4 flex flex-y-center font-weight-600"},_t={class:"flex-1 text-center text-danger font-weight-600 p-4"},dt=A({__name:"layouts-header",setup(R){const{t:d}=$e(),y=K(),{WEBCONFIG:i}=C(y),u=Qe(),{USERINFO:c}=C(u),g=ce(),{STATE:f}=C(g),{theme:_}=ge(),k=p=>{const a={model:p.model,props:p.props.props,path:p.props.path,query:{},data:{}};Ke(a).then(()=>{}).catch(()=>{})},x=p=>{g.setState("language",p),document.documentElement.setAttribute("lang",p),Le(()=>{globalThis.location.reload()})};return(p,a)=>{const N=G("Fold"),h=ae,S=G("Expand"),m=Ne,T=we,$=Re,b=We,D=Fe,H=Be,J=qe,Q=Oe,X=le,Y=De,ee=Ue,te=Me;return o(),r(te,{class:"overflow-hidden"},{default:e(()=>[n(m,{effect:"dark",content:t(d)("aside.toggleText"),placement:"bottom"},{default:e(()=>[s("div",{onClick:a[0]||(a[0]=l=>t(g).toggle("AsideState")),class:"pointer header-item flex flex-center text-primary-light-3"},[t(f).AsideState?(o(),r(h,{key:0},{default:e(()=>[n(N)]),_:1})):(o(),r(h,{key:1},{default:e(()=>[n(S)]),_:1}))])]),_:1},8,["content"]),Ae(p.$slots,"default",{},()=>[s("div",Ye,[n(T,{width:"60px",height:"60px"})])],!0),a[2]||(a[2]=s("div",{class:"flex-1"},null,-1)),(o(!0),w(q,null,L(t(i).toolbar,(l,F)=>(o(),r(m,{effect:"dark",content:l.props.tips,placement:"bottom",disabled:!l.props.tips},{default:e(()=>[s("div",{class:"pointer header-item flex flex-center",onClick:O=>k(l)},[l.props.icon?(o(),r(h,{key:0},{default:e(()=>[(o(),r(V(l.props.icon)))]),_:2},1024)):M("",!0),l.props.label?(o(),w("span",tt,v(l.props.label),1)):M("",!0),l.props.field&&t(c)?(o(),r(V(l.props.field.component.name),U({key:2,ref_for:!0},l.props.field.component.props),{default:e(()=>[P(v(t(c)[l.props.field.name]),1)]),_:2},1040)):M("",!0)],8,et)]),_:2},1032,["content","disabled"]))),256)),s("div",ot,[n($,{modelValue:t(_),"onUpdate:modelValue":a[1]||(a[1]=l=>Ie(_)?_.value=l:null),style:{"--el-switch-on-color":"#2c2c2c"},"active-action-icon":"Moon","inactive-action-icon":"Sunny","active-value":"dark","inactive-value":"OS"},null,8,["modelValue"])]),s("div",nt,[n(D,{placement:"bottom-end"},{reference:e(()=>[n(h,{size:"20"},{default:e(()=>[n(b)]),_:1})]),default:e(()=>[s("div",at,[(o(!0),w(q,null,L(t(g).LANGUARE,(l,F)=>(o(),w("span",{class:"languare-item",onClick:O=>x(l.value),key:F},v(l.label),9,st))),128))])]),_:1})]),n(ee,{"popper-class":"userinfo-menu",onCommand:k},{dropdown:e(()=>[n(Y,null,{default:e(()=>[(o(!0),w(q,null,L(t(i).user_dropdown_menu,l=>(o(),r(X,{name:l.props.path},{default:e(()=>[n(Q,U({ref_for:!0},l.props,{command:l}),{default:e(()=>[s("div",ut,v(l.props.label),1)]),_:2},1040,["command"])]),_:2},1032,["name"]))),256)),n(Q,{divided:"",command:{model:"OutLogin",props:{confirmButtonClass:"el-button--danger"}}},{default:e(()=>[s("div",_t,v(t(d)("button.logoutText")),1)]),_:1})]),_:1})]),default:e(()=>{var l,F,O;return[s("div",lt,[n(H,{size:30,src:(l=t(c))==null?void 0:l.headimg},{default:e(()=>{var B;return[P(v(t(Ze)((B=t(c))==null?void 0:B.nickname,1)),1)]}),_:1},8,["src"]),s("div",ct,[s("div",rt,v((F=t(c))==null?void 0:F.nickname),1),(O=t(c))!=null&&O.role_name?(o(),r(J,{key:0,size:"small",type:"danger"},{default:e(()=>{var B;return[P(v((B=t(c))==null?void 0:B.role_name),1)]}),_:1})):M("",!0)])])]}),_:1})]),_:3,__:[2]})}}}),ke=j(dt,[["__scopeId","data-v-4274ffdd"]]),it=A({name:"/index/components/control"}),pt=A({...it,setup(R){const d=se(),{ROUTERLIST:y}=C(d),i=ce(),{STATE:u}=C(i),c=I({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),g=I(""),f=I();return Z(()=>{var _,k;if(c.value=ne.currentRoute.value,f.value=c.value.path,!((_=c.value.meta)!=null&&_.show)){let x=c.value.matched.length-1;for(;x>=0;x--){const p=c.value.matched[x];if((k=p.meta)!=null&&k.show){f.value=p.path;break}}}c.value.query.routerName&&(g.value=c.value.query.routerName)}),de(()=>{ye.emit(xe.UPDATE_USERINFO)}),(_,k)=>{const x=ke,p=be,a=fe,N=me,h=ve,S=pe,m=G("router-view"),T=he,$=ie;return o(),r($,{class:"layout-container"},{default:e(()=>[n(x),n($,{class:"overflow-hidden"},{default:e(()=>[n(S,{class:z(["layout-aside",{close:!t(u).AsideState||t(u).NotMenusAsideState}])},{default:e(()=>[n(N,{class:"flex-1"},{default:e(()=>[n(a,{"default-active":t(f),router:"",class:"layouts-menus"},{default:e(()=>[n(p,{menus:t(y),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1}),n(h,{class:"flex-column-reverse layout-aside-width"})]),_:1},8,["class"]),n(T,{class:"layouts-main-scrollbar"},{default:e(()=>[(o(),r(m,{key:t(c).path}))]),_:1})]),_:1})]),_:1})}}}),_e=j(pt,[["__scopeId","data-v-4fe15e27"]]),mt={class:"layout-tabs"},ft=["onClick"],ht={class:"title"},vt={class:"layout-menus"},gt={class:"layout-menus-header"},yt={class:"title"},xt=A({name:"/index/components/admin"}),bt=A({...xt,setup(R){const d=K(),{WEBCONFIG:y}=C(d),i=se(),{ROUTERLIST:u}=C(i),c=ce(),{STATE:g}=C(c),f=I(0),_=I({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),k=I(""),x=I(""),p=I();Z(()=>{var T,$;if(_.value=ne.currentRoute.value,p.value=_.value.path,!((T=_.value.meta)!=null&&T.show)){let b=_.value.matched.length-1;for(;b>=0;b--){const D=_.value.matched[b];if(($=D.meta)!=null&&$.show){p.value=D.path;break}}}_.value.query.routerName&&(k.value=_.value.query.routerName);const m=_.value.matched.map(b=>{if(b.meta&&b.meta.routerKey!==void 0)return b.meta.routerKey}).filter(b=>b!==void 0);m[0]!==void 0&&(f.value=m[0]),["databoardComponent"].includes(_.value.meta.component)?x.value="":x.value="bg-white rounded-4 p-4 shadow overflow-hidden h-100 flex flex-column"});const a=W(()=>u.value&&u.value.length>0?u.value[f.value]:{}),N=W(()=>u.value&&u.value.length>0?a.value.children:[]);Z(()=>{N.value.length>0&&i.hasSubMenu(u.value[f.value])?c.setState("NotMenusAsideState",!1):c.setState("NotMenusAsideState",!0)});const h=m=>m.children&&m.children.length>0&&i.hasSubMenu(m)?h(m.children[0]):m,S=m=>{const T=h(m);ne.push({path:T.path})};return de(()=>{ye.emit(xe.UPDATE_USERINFO)}),(m,T)=>{const $=we,b=ae,D=le,H=Pe,J=be,Q=fe,X=me,Y=pe,ee=ze,te=Ve,l=ke,F=G("router-view"),O=ve,B=he,re=ie;return o(),r(re,{class:"layout-container"},{default:e(()=>[n(Y,{class:z(["layout-aside",{close:!t(g).AsideState||t(g).NotMenusAsideState}])},{default:e(()=>[s("div",mt,[n($,{theme:"dark",width:"60px",height:"60px"}),(o(!0),w(q,null,L(t(u),(E,ue)=>(o(),r(D,{key:ue,name:E.meta.api},{default:e(()=>[E.meta.show?(o(),w("div",{key:0,class:z(["layout-tab",{active:ue==t(f)}]),onClick:St=>S(E)},[E.meta.icon?(o(),r(b,{key:0,size:"20"},{default:e(()=>[(o(),r(V(E.meta.icon)))]),_:2},1024)):M("",!0),s("div",ht,v(E.meta.title),1)],10,ft)):M("",!0)]),_:2},1032,["name"]))),128))]),s("div",vt,[s("div",gt,[s("div",yt,v(t(y).web_name),1)]),n(X,null,{default:e(()=>[n(H,null,{default:e(()=>[P(v(t(a).meta.title),1)]),_:1}),n(Q,{"default-active":t(p),router:"",class:"layouts-menus"},{default:e(()=>[n(J,{menus:t(N),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1})])]),_:1},8,["class"]),n(re,{class:"layouts-main"},{default:e(()=>[n(l,null,{default:e(()=>[n(te,{separator:"/",style:{"--el-text-color-regular":"var(--el-color-info)"}},{default:e(()=>[(o(!0),w(q,null,L(t(_).matched,E=>(o(),r(ee,{to:[t(k),"index"].includes(E.name)?E.path:""},{default:e(()=>[P(v(E.meta.title),1)]),_:2},1032,["to"]))),256))]),_:1})]),_:1}),n(B,{class:"layouts-main-scrollbar"},{default:e(()=>[s("div",{class:z([t(x),"overflow-hidden"])},[(o(),r(F,{key:t(_).path}))],2),n(O,{center:""})]),_:1})]),_:1})]),_:1})}}}),wt=j(bt,[["__scopeId","data-v-6ec1f1f3"]]),kt=A({name:"/index"}),$t=A({...kt,setup(R){const d=K(),{WEBCONFIG:y}=C(d),i=Ge(_e),u=new Map;return u.set("control",_e),u.set("admin",wt),Z(()=>{y.value.layout&&u.has(y.value.layout)&&(i.value=u.get(y.value.layout))}),(c,g)=>(o(),r(V(t(i))))}});export{$t as default};
