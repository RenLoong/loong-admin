import{e as N,f as Q,I as G,g as w,h as o,m as L,F as q,p as c,B as M,v as t,q as e,l as n,j as u,K as ne,x as V,t as h,y as U,aA as Se,L as ke,i as P,aB as Ee,b1 as Ce,k as z,C as $e,b2 as Te,A as Me,a9 as Ne,S as Ae,at as Ie,ad as Re,as as Be,s as Fe,b3 as qe,b4 as De,a8 as Oe,U as Ue,r as I,G as Z,o as _e,b5 as de,b6 as ie,ao as pe,az as me,aE as fe,aN as Le,b7 as Pe,b8 as Ve,_ as ze}from"./vendor-ulBTnC7v.js";import{_ as he}from"./layouts-copyright-CrAMJ6-u.js";import{u as ae,_ as se,a as K,b as C,c as ve,d as j,e as Ge,f as le,g as We,t as Qe,h as Ze,$ as ge,R as ye,r as oe}from"./index-B12tPD_9.js";const xe=N({__name:"layouts-menu-item",props:{menus:{},level:{}},setup(R){const v=R,y=Q(()=>v.menus?v.menus.sort((r,l)=>r.meta.sort-l.meta.sort):[]),{hasSubMenu:d}=ae();return(r,l)=>{const g=ne,m=G("layouts-menu-item",!0),_=Se,S=se,x=ke,i=Ee;return o(!0),w(q,null,L(t(y),(a,A)=>(o(),w(q,{key:A},[t(d)(a)?(o(),c(S,{key:0,name:a.meta.api},{default:e(()=>{var f;return[n(_,U({index:a.path},{ref_for:!0},(f=a.meta)==null?void 0:f.props),{title:e(()=>[a.meta.icon?(o(),c(g,{key:0},{default:e(()=>[(o(),c(V(a.meta.icon)))]),_:2},1024)):M("",!0),u("span",null,h(a.meta.title),1)]),default:e(()=>[n(m,{menus:a.children,level:r.level+1},null,8,["menus","level"])]),_:2},1040,["index"])]}),_:2},1032,["name"])):a.meta.show?(o(),c(S,{key:1,name:a.meta.api},{default:e(()=>{var f;return[n(i,U({index:a.path,route:{path:a.path,query:a.meta.query,params:a.meta.params}},{ref_for:!0},(f=a.meta)==null?void 0:f.props),{title:e(()=>{var k;return[n(x,U({ref_for:!0},(k=a.meta)==null?void 0:k.titleProps),{default:e(()=>[P(h(a.meta.title),1)]),_:2},1040)]}),default:e(()=>{var k;return[a.meta.icon?(o(),c(g,U({key:0,ref_for:!0},(k=a.meta)==null?void 0:k.iconProps),{default:e(()=>[(o(),c(V(a.meta.icon)))]),_:2},1040)):M("",!0)]}),_:2},1040,["index","route"])]}),_:2},1032,["name"])):M("",!0)],64))),128)}}}),Ke=["src"],je=["src"],He={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 191.33 77.38",class:"logo-svg"},Je={id:"svg26"},Xe=N({__name:"layouts-logo",props:{theme:{}},setup(R){const v=R,y=K(),{WEBCONFIG:d}=C(y),{theme:r}=ve(),l=Q(()=>v.theme==="transparent"||r.value==="dark");return(g,m)=>t(d).logo_use==="image"&&t(l)?(o(),w("img",{key:0,src:t(d).web_logo_light,class:"logo-svg"},null,8,Ke)):t(d).logo_use==="image"?(o(),w("img",{key:1,src:t(d).web_logo_dark,class:"logo-svg"},null,8,je)):(o(),w("svg",He,[u("g",null,[u("g",Je,[m[0]||(m[0]=Ce('<g id="g24" data-v-73d808ce><path id="path14" class="logo-svg-cls-1" d="M30.8,32.9q22.35-17.38,42.46-4c10,6.64,14.29,8.63,17.26,6.64,6-4,.66-12-10.62-15.92Q54,10.47,30.8,32.9Z" data-v-73d808ce></path><path id="path16" class="logo-svg-cls-1" d="M24.16,38.2q7.45-23.75,30.65-24.64C66.29,13.11,70.73,12.23,72,9c2.4-6.46-6.22-9.66-17.24-6.42Q29.43,10.07,24.16,38.2Z" data-v-73d808ce></path><path id="path18" class="logo-svg-cls-1" d="M20,51.8q-3-23,11.75-36.39c7.31-6.64,9.75-9.7,8.77-12.47-2-5.57-9.45-2.91-14.89,5.31Q13.2,27.12,20,51.8Z" data-v-73d808ce></path><path id="path20" class="logo-svg-cls-1" d="M26.41,65Q13.5,49,14.19,32.24c.35-8.28,0-11.66-2-13.09-4-2.86-5.7,4.85-5.68,11.37Q6.6,51.93,26.41,65Z" data-v-73d808ce></path><path id="path22" class="logo-svg-cls-1" d="M35.44,69.4c1.5-.67-17.24.66-25.8-14.8-3.39-6.12-5.18-8.39-7.3-8.36-4.22.06-2,6.45.92,11.14C12.88,72.71,34,70.05,35.44,69.4Z" data-v-73d808ce></path></g>',1)),u("text",{class:z(["logo-svg-cls-2 logo-svg-text",["theme--"+v.theme]]),transform:"translate(48.28 67.81)"},h(t(d).web_name),3)])])]))}}),be=j(Xe,[["__scopeId","data-v-73d808ce"]]),Ye={class:"flex flex-center px-6"},et=["onClick"],tt={key:1},ot={class:"pointer px-3 flex flex-center"},nt={class:"pointer px-3 flex flex-center"},at={class:"flex flex-column languare-list"},st=["onClick"],lt={class:"pointer px-3 flex flex-center"},ct={class:"ml-1"},rt={class:"nickname mb-1"},ut={class:"flex-1 p-4 flex flex-y-center font-weight-600"},_t={class:"flex-1 text-center text-danger font-weight-600 p-4"},dt=N({__name:"layouts-header",setup(R){const{t:v}=$e(),y=K(),{WEBCONFIG:d}=C(y),r=Ge(),{USERINFO:l}=C(r),g=le(),{STATE:m}=C(g),{theme:_}=ve(),S=i=>{const a={model:i.model,props:i.props.props,path:i.props.path,query:{},data:{}};Ze(a).then(()=>{}).catch(()=>{})},x=i=>{g.setState("language",i),document.documentElement.setAttribute("lang",i),Ue(()=>{globalThis.location.reload()})};return(i,a)=>{const A=G("Fold"),f=ne,k=G("Expand"),p=Ne,$=be,T=Ie,b=We,D=Re,H=Be,J=Fe,W=De,X=se,Y=qe,ee=Oe,te=Te;return o(),c(te,{class:"overflow-hidden"},{default:e(()=>[n(p,{effect:"dark",content:t(v)("aside.toggleText"),placement:"bottom"},{default:e(()=>[u("div",{onClick:a[0]||(a[0]=s=>t(g).toggle("AsideState")),class:"pointer header-item flex flex-center text-primary-light-3"},[t(m).AsideState?(o(),c(f,{key:0},{default:e(()=>[n(A)]),_:1})):(o(),c(f,{key:1},{default:e(()=>[n(k)]),_:1}))])]),_:1},8,["content"]),Me(i.$slots,"default",{},()=>[u("div",Ye,[n($,{width:"60px",height:"60px"})])],!0),a[2]||(a[2]=u("div",{class:"flex-1"},null,-1)),(o(!0),w(q,null,L(t(d).toolbar,(s,B)=>(o(),c(p,{effect:"dark",content:s.props.tips,placement:"bottom",disabled:!s.props.tips},{default:e(()=>[u("div",{class:"pointer header-item flex flex-center",onClick:O=>S(s)},[s.props.icon?(o(),c(f,{key:0},{default:e(()=>[(o(),c(V(s.props.icon)))]),_:2},1024)):M("",!0),s.props.label?(o(),w("span",tt,h(s.props.label),1)):M("",!0),s.props.field&&t(l)?(o(),c(V(s.props.field.component.name),U({key:2,ref_for:!0},s.props.field.component.props),{default:e(()=>[P(h(t(l)[s.props.field.name]),1)]),_:2},1040)):M("",!0)],8,et)]),_:2},1032,["content","disabled"]))),256)),u("div",ot,[n(T,{modelValue:t(_),"onUpdate:modelValue":a[1]||(a[1]=s=>Ae(_)?_.value=s:null),style:{"--el-switch-on-color":"#2c2c2c"},"active-action-icon":"Moon","inactive-action-icon":"Sunny","active-value":"dark","inactive-value":"OS"},null,8,["modelValue"])]),u("div",nt,[n(D,{placement:"bottom-end"},{reference:e(()=>[n(f,{size:"20"},{default:e(()=>[n(b)]),_:1})]),default:e(()=>[u("div",at,[(o(!0),w(q,null,L(t(g).LANGUARE,(s,B)=>(o(),w("span",{class:"languare-item",onClick:O=>x(s.value),key:B},h(s.label),9,st))),128))])]),_:1})]),n(ee,{"popper-class":"userinfo-menu",onCommand:S},{dropdown:e(()=>[n(Y,null,{default:e(()=>[(o(!0),w(q,null,L(t(d).user_dropdown_menu,s=>(o(),c(X,{name:s.props.path},{default:e(()=>[n(W,U({ref_for:!0},s.props,{command:s}),{default:e(()=>[u("div",ut,h(s.props.label),1)]),_:2},1040,["command"])]),_:2},1032,["name"]))),256)),n(W,{divided:"",command:{model:"OutLogin",props:{confirmButtonClass:"el-button--danger"}}},{default:e(()=>[u("div",_t,h(t(v)("button.logoutText")),1)]),_:1})]),_:1})]),default:e(()=>{var s,B,O;return[u("div",lt,[n(H,{size:30,src:(s=t(l))==null?void 0:s.headimg},{default:e(()=>{var F;return[P(h(t(Qe)((F=t(l))==null?void 0:F.nickname,1)),1)]}),_:1},8,["src"]),u("div",ct,[u("div",rt,h((B=t(l))==null?void 0:B.nickname),1),(O=t(l))!=null&&O.role_name?(o(),c(J,{key:0,size:"small",type:"danger"},{default:e(()=>{var F;return[P(h((F=t(l))==null?void 0:F.role_name),1)]}),_:1})):M("",!0)])])]}),_:1})]),_:3,__:[2]})}}}),we=j(dt,[["__scopeId","data-v-4274ffdd"]]),it=N({name:"/index/components/control"}),pt=N({...it,setup(R){const v=ae(),{ROUTERLIST:y}=C(v),d=le(),{STATE:r}=C(d),l=I({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),g=I(""),m=I();return Z(()=>{var _,S;if(l.value=oe.currentRoute.value,m.value=l.value.path,!((_=l.value.meta)!=null&&_.show)){let x=l.value.matched.length-1;for(;x>=0;x--){const i=l.value.matched[x];if((S=i.meta)!=null&&S.show){m.value=i.path;break}}}l.value.query.routerName&&(g.value=l.value.query.routerName)}),_e(()=>{ge.emit(ye.UPDATE_USERINFO)}),(_,S)=>{const x=we,i=xe,a=me,A=pe,f=he,k=ie,p=G("router-view"),$=fe,T=de;return o(),c(T,{class:"layout-container"},{default:e(()=>[n(x),n(T,{class:"overflow-hidden"},{default:e(()=>[n(k,{class:z(["layout-aside",{close:!t(r).AsideState||t(r).NotMenusAsideState}])},{default:e(()=>[n(A,{class:"flex-1"},{default:e(()=>[n(a,{"default-active":t(m),router:"",class:"layouts-menus"},{default:e(()=>[n(i,{menus:t(y),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1}),n(f,{class:"flex-column-reverse layout-aside-width"})]),_:1},8,["class"]),n($,{class:"layouts-main-scrollbar"},{default:e(()=>[(o(),c(p,{key:t(l).path}))]),_:1})]),_:1})]),_:1})}}}),ue=j(pt,[["__scopeId","data-v-4fe15e27"]]),mt={class:"layout-tabs"},ft=["onClick"],ht={class:"title"},vt={class:"layout-menus"},gt={class:"layout-menus-header"},yt={class:"title"},xt=N({name:"/index/components/admin"}),bt=N({...xt,setup(R){const v=K(),{WEBCONFIG:y}=C(v),d=ae(),{ROUTERLIST:r}=C(d),l=le(),{STATE:g}=C(l),m=I(0),_=I({path:"/",matched:[],fullPath:"/",query:{},hash:"",redirectedFrom:void 0,name:void 0,params:{},meta:{}}),S=I(""),x=I(""),i=I();Z(()=>{var $,T;if(_.value=oe.currentRoute.value,i.value=_.value.path,!(($=_.value.meta)!=null&&$.show)){let b=_.value.matched.length-1;for(;b>=0;b--){const D=_.value.matched[b];if((T=D.meta)!=null&&T.show){i.value=D.path;break}}}_.value.query.routerName&&(S.value=_.value.query.routerName);const p=_.value.matched.map(b=>{if(b.meta&&b.meta.routerKey!==void 0)return b.meta.routerKey}).filter(b=>b!==void 0);p[0]!==void 0&&(m.value=p[0]),["databoardComponent"].includes(_.value.meta.component)?x.value="":x.value="bg-white rounded-4 p-4 shadow overflow-hidden h-100 flex flex-column"});const a=Q(()=>r.value&&r.value.length>0?r.value[m.value]:{}),A=Q(()=>r.value&&r.value.length>0?a.value.children:[]);Z(()=>{A.value.length>0&&d.hasSubMenu(r.value[m.value])?l.setState("NotMenusAsideState",!1):l.setState("NotMenusAsideState",!0)});const f=p=>p.children&&p.children.length>0&&d.hasSubMenu(p)?f(p.children[0]):p,k=p=>{const $=f(p);oe.push({path:$.path})};return _e(()=>{ge.emit(ye.UPDATE_USERINFO)}),(p,$)=>{const T=be,b=ne,D=se,H=Le,J=xe,W=me,X=pe,Y=ie,ee=Ve,te=Pe,s=we,B=G("router-view"),O=he,F=fe,ce=de;return o(),c(ce,{class:"layout-container"},{default:e(()=>[n(Y,{class:z(["layout-aside",{close:!t(g).AsideState||t(g).NotMenusAsideState}])},{default:e(()=>[u("div",mt,[n(T,{theme:"dark",width:"60px",height:"60px"}),(o(!0),w(q,null,L(t(r),(E,re)=>(o(),c(D,{key:re,name:E.meta.api},{default:e(()=>[E.meta.show?(o(),w("div",{key:0,class:z(["layout-tab",{active:re==t(m)}]),onClick:kt=>k(E)},[E.meta.icon?(o(),c(b,{key:0,size:"20"},{default:e(()=>[(o(),c(V(E.meta.icon)))]),_:2},1024)):M("",!0),u("div",ht,h(E.meta.title),1)],10,ft)):M("",!0)]),_:2},1032,["name"]))),128))]),u("div",vt,[u("div",gt,[u("div",yt,h(t(y).web_name),1)]),n(X,null,{default:e(()=>[n(H,null,{default:e(()=>[P(h(t(a).meta.title),1)]),_:1}),n(W,{"default-active":t(i),router:"",class:"layouts-menus"},{default:e(()=>[n(J,{menus:t(A),level:1},null,8,["menus"])]),_:1},8,["default-active"])]),_:1})])]),_:1},8,["class"]),n(ce,{class:"layouts-main"},{default:e(()=>[n(s,null,{default:e(()=>[n(te,{separator:"/",style:{"--el-text-color-regular":"var(--el-color-info)"}},{default:e(()=>[(o(!0),w(q,null,L(t(_).matched,E=>(o(),c(ee,{to:[t(S),"index"].includes(E.name)?E.path:""},{default:e(()=>[P(h(E.meta.title),1)]),_:2},1032,["to"]))),256))]),_:1})]),_:1}),n(F,{class:"layouts-main-scrollbar"},{default:e(()=>[u("div",{class:z([t(x),"overflow-hidden"])},[(o(),c(B,{key:t(_).path}))],2),n(O,{center:""})]),_:1})]),_:1})]),_:1})}}}),wt=j(bt,[["__scopeId","data-v-6ec1f1f3"]]),St=N({name:"/index"}),Tt=N({...St,setup(R){const v=K(),{WEBCONFIG:y}=C(v),d=ze(ue),r=new Map;return r.set("control",ue),r.set("admin",wt),Z(()=>{y.value.layout&&r.has(y.value.layout)&&(d.value=r.get(y.value.layout))}),(l,g)=>(o(),c(V(t(d))))}});export{Tt as default};
